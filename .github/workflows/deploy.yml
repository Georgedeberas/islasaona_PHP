name: 游 Despliegue Autom치tico a iPage

on:
  push:
    branches:
      - main  # Aseg칰rate de que tu rama principal se llame 'main'. Si es 'master', cambia esto a 'master'.

jobs:
  web-deploy:
    name: 游꿀 Subiendo archivos al Hosting
    runs-on: ubuntu-latest
    steps:
    
    # Paso 1: Obtener el c칩digo m치s reciente de GitHub
    - name: 游뚴 Obtener c칩digo (Checkout)
      uses: actions/checkout@v4

    # Paso 2: Conectar por FTP y subir los archivos
    - name: 游늭 Sincronizar archivos (FTP Deploy)
      uses: SamKirkland/FTP-Deploy-Action@v4.3.5
      with:
        server: ${{ secrets.FTP_SERVER }}
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        
        # IMPORTANTE: Configuraci칩n de la carpeta destino
        # Si el usuario FTP 'islasaona' ya est치 configurado en iPage para caer directo en la carpeta del proyecto, usa: ./
        # Si el usuario FTP cae en la ra칤z general del hosting, usa: /Mochilerosrd/islasaona/
        # Por seguridad, probaremos primero asumiendo que el usuario FTP ya apunta a la carpeta correcta:
        server-dir: ./
        
        # Archivos que NO queremos subir al hosting
        exclude: |
          **/.git*
          **/.github*
          README.md
          config/database_local.php
          .env.example
